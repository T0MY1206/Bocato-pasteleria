<!-- CONTACTO Section de Reservas -->
<section class="bg-stone-50 py-16 sm:py-20" aria-labelledby="contact-heading">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <header class="text-center mb-12">
      <h2 id="contact-heading" class="text-4xl sm:text-5xl font-bold text-stone-900 animate-fade-in-up">
        {{ translate('contacto.title') }}
      </h2>
      <p class="text-lg text-stone-600 mt-2 animate-fade-in-up" data-animation-delay="200">
        {{ translate('contacto.subtitle') }}
      </p>
    </header>

    <div class="grid grid-cols-1 gap-8">
      <!-- Formulario de Reservas -->
      <div class="animate-fade-in-up" data-animation-delay="400">
        <div class="card shadow-lg border-0 h-full">
          <div class="card-header bg-white p-4">
            <h3 class="card-title mb-0 text-caramel">
              <i class="bi bi-envelope me-2"></i>
              {{ translate('contacto.form.title') }}
            </h3>
            <p class="mb-0 text-stone-600">{{ translate('contacto.form.subtitle') }}</p>
          </div>
          
      <div class="card-body p-4 p-md-5">
            <form (ngSubmit)="onSubmit()" aria-live="polite" novalidate>
              <!-- Información personal -->
              <div class="mb-4">
                <h5 class="text-caramel font-semibold mb-3">
                  <i class="bi bi-person me-2"></i>
                  {{ translate('contacto.form.personalInfo') }}
                </h5>
                
                <div class="row g-3">
                  <div class="col-md-6">
          <label for="name" class="form-label fw-medium text-stone-700">
                      {{ translate('contacto.form.name') }} <span class="text-danger">{{ translate('contacto.form.required') }}</span>
          </label>
          <input 
            type="text" 
            id="name" 
            name="name" 
            [(ngModel)]="formData.name"
            (input)="onNameInput($event)"
            required
                      class="form-control"
            [class.is-invalid]="errors.name"
            aria-required="true" 
            [placeholder]="translate('contacto.form.namePlaceholder')">
          <div *ngIf="errors.name" class="invalid-feedback" role="alert">
            {{ errors.name }}
          </div>
        </div>
        
                  <div class="col-md-6">
                    <label for="phone" class="form-label fw-medium text-stone-700">
                      {{ translate('contacto.form.phone') }}
                    </label>
                    <input 
                      type="tel" 
                      id="phone" 
                      name="phone" 
                      [(ngModel)]="formData.phone"
                      class="form-control"
                      [placeholder]="translate('contacto.form.phonePlaceholder')">
                  </div>
                </div>
                
                <div class="mt-3">
          <label for="email" class="form-label fw-medium text-stone-700">
                    {{ translate('contacto.form.email') }} <span class="text-danger">{{ translate('contacto.form.required') }}</span>
          </label>
          <input 
            type="email" 
            id="email" 
            name="email" 
            [(ngModel)]="formData.email"
            required
                    class="form-control"
            [class.is-invalid]="errors.email"
            aria-required="true" 
            [placeholder]="translate('contacto.form.emailPlaceholder')">
          <div *ngIf="errors.email" class="invalid-feedback" role="alert">
            {{ errors.email }}
                  </div>
                </div>
              </div>

              <!-- Detalles del pedido -->
              <div class="mb-4">
                <h5 class="text-caramel font-semibold mb-3">
                  <i class="bi bi-calendar-event me-2"></i>
                  {{ translate('contacto.form.orderDetails') }}
                </h5>
                
                <div class="row g-3">
                  <div class="col-md-6">
                    <label for="eventDate" class="form-label fw-medium text-stone-700">
                      {{ translate('contacto.form.eventDate') }}
                    </label>
                    <input 
                      type="date" 
                      id="eventDate" 
                      name="eventDate" 
                      [(ngModel)]="formData.eventDate"
                      class="form-control"
                      [min]="minDate">
                  </div>
                  
                  <div class="col-md-6">
                    <label for="guestCount" class="form-label fw-medium text-stone-700">
                      {{ translate('contacto.form.guestCount') }}
                    </label>
                    <input 
                      type="number" 
                      id="guestCount" 
                      name="guestCount" 
                      [(ngModel)]="formData.guestCount"
                      min="1"
                      max="200"
                      class="form-control"
                      [placeholder]="translate('contacto.form.guestCountPlaceholder')">
                  </div>
          </div>
        </div>
        
              <!-- Mensaje -->
        <div class="mb-4">
          <label for="message" class="form-label fw-medium text-stone-700">
                  {{ translate('contacto.form.message') }} <span class="text-danger">{{ translate('contacto.form.required') }}</span>
          </label>
          <textarea 
            id="message" 
            name="message" 
                  rows="4" 
            [(ngModel)]="formData.message"
            required
                  class="form-control"
            [class.is-invalid]="errors.message"
            aria-required="true" 
            [placeholder]="translate('contacto.form.messagePlaceholder')"></textarea>
          <div *ngIf="errors.message" class="invalid-feedback" role="alert">
            {{ errors.message }}
          </div>
        </div>
        
              <!-- Información adicional -->
              <div class="mb-4">
                <h5 class="text-caramel font-semibold mb-3">
                  <i class="bi bi-info-circle me-2"></i>
                  {{ translate('contacto.form.eventInfo') }}
                </h5>
                
                <div class="row g-3">
                  <div class="col-md-6">
                    <label class="form-label fw-medium text-stone-700">{{ translate('contacto.form.eventType') }}</label>
                    <select 
                      [(ngModel)]="formData.eventType"
                      name="eventType"
                      class="form-select">
                      <option value="">{{ translate('contacto.form.eventTypePlaceholder') }}</option>
                      <option value="cumpleanos">{{ translate('carta.eventos.tortas.birthday') }}</option>
                      <option value="boda">{{ translate('carta.eventos.tortas.wedding') }}</option>
                      <option value="corporativo">{{ translate('carta.eventos.tortas.corporate') }}</option>
                      <option value="graduacion">{{ translate('contacto.form.graduation') }}</option>
                      <option value="baby-shower">{{ translate('contacto.form.babyShower') }}</option>
                      <option value="otro">{{ translate('contacto.form.other') }}</option>
                    </select>
                  </div>
                  
                  <div class="col-md-6">
                    <label class="form-label fw-medium text-stone-700">{{ translate('contacto.form.budget') }}</label>
                    <div class="input-group">
                      <span class="input-group-text">{{ translate('common.currency') }}</span>
                      <input 
                        type="number" 
                        [(ngModel)]="formData.budget"
                        name="budget"
                        min="5000"
                        max="100000"
                        step="1000"
                        class="form-control"
                        [placeholder]="translate('contacto.form.budgetPlaceholder')">
                    </div>
                  </div>
                </div>
              </div>

              <!-- Preferencias especiales -->
              <div class="mb-4">
                <label class="form-label fw-medium text-stone-700">{{ translate('contacto.form.preferences') }}</label>
                <div class="row g-2">
                  <div class="col-md-4">
                    <div class="form-check">
                      <input 
                        class="form-check-input" 
                        type="checkbox" 
                        [(ngModel)]="formData.preferences.sinGluten"
                        name="sinGluten"
                        id="sinGluten">
                      <label class="form-check-label" for="sinGluten">
                        {{ translate('contacto.form.sinGluten') }}
                      </label>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-check">
                      <input 
                        class="form-check-input" 
                        type="checkbox" 
                        [(ngModel)]="formData.preferences.vegano"
                        name="vegano"
                        id="vegano">
                      <label class="form-check-label" for="vegano">
                        {{ translate('contacto.form.vegano') }}
                      </label>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-check">
                      <input 
                        class="form-check-input" 
                        type="checkbox" 
                        [(ngModel)]="formData.preferences.sugarFree"
                        name="sugarFree"
                        id="sugarFree">
                      <label class="form-check-label" for="sugarFree">
                        {{ translate('contacto.form.sugarFree') }}
                      </label>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- Botón de envío -->
              <button type="submit" class="btn btn-caramel w-100 py-2 hover-lift submit-reservation-btn">
                <i class="bi bi-send me-2"></i>
                {{ translate('contacto.form.submit') }}
        </button>
        
        <!-- Área de mensaje de éxito/error -->
        <div *ngIf="showMessage" class="alert mt-4 mb-0" 
          [class.alert-success]="formMessage.includes('✅')"
          [class.alert-danger]="formMessage.includes('❌')"
          role="status" aria-live="assertive">
          <i class="bi" [class.bi-check-circle-fill]="formMessage.includes('✅')" [class.bi-exclamation-triangle-fill]="formMessage.includes('❌')" me-2></i>
          {{ formMessage }}
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Información de contacto adicional -->
    <div class="mt-12 animate-fade-in-up" data-animation-delay="800">
      <div class="row g-4">
        <div class="col-md-4">
          <div class="text-center p-4 bg-white rounded-xl shadow-sm hover-lift">
            <div class="text-caramel text-3xl mb-3">
              <i class="bi bi-telephone"></i>
            </div>
            <h5 class="font-semibold text-stone-800 mb-2">{{ translate('contacto.contactInfo.phone') }}</h5>
            <p class="text-stone-600">+54 9 292 343-8316</p>
          </div>
        </div>
        
        <div class="col-md-4">
          <div class="text-center p-4 bg-white rounded-xl shadow-sm hover-lift">
            <div class="text-caramel text-3xl mb-3">
              <i class="bi bi-envelope"></i>
            </div>
            <h5 class="font-semibold text-stone-800 mb-2">{{ translate('contacto.contactInfo.email') }}</h5>
            <p class="text-stone-600">pasteleriabocato@gmail.com</p>
          </div>
        </div>
        
        <div class="col-md-4">
          <div class="text-center p-4 bg-white rounded-xl shadow-sm hover-lift">
            <div class="text-caramel text-3xl mb-3">
              <i class="bi bi-clock"></i>
            </div>
            <h5 class="font-semibold text-stone-800 mb-2">{{ translate('contacto.contactInfo.hours') }}</h5>
            <p class="text-stone-600">{{ translate('contacto.contactInfo.weekdays') }}<br>{{ translate('contacto.contactInfo.weekends') }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
